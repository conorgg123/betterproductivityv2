<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Daily Progress Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="animations.css">
    <link rel="stylesheet" href="timeblock.css">
    <link rel="stylesheet" href="pomodoro.css">
    <link rel="stylesheet" href="task-dependencies.css">
    <link rel="stylesheet" href="recurring.css">
    <link rel="stylesheet" href="youtube.css">
    <link rel="stylesheet" href="notes.css">
    <link rel="stylesheet" href="analytics.css">
    <link rel="stylesheet" href="focus-mode.css">
    <link rel="stylesheet" href="shortcuts.css">
    <link rel="stylesheet" href="goals.css">
    <link rel="stylesheet" href="workflows.css">
    <link rel="stylesheet" href="achievements.css">
    <link rel="stylesheet" href="break-reminders.css">
    <link rel="stylesheet" href="export-options.css">
    <link rel="stylesheet" href="productivity-trends.css">
    <link rel="stylesheet" href="onboarding.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="data-management.css">
    <link rel="stylesheet" href="task-enhancements.css">
    <link rel="stylesheet" href="scheduler.css">
    <link rel="stylesheet" href="youtube-manager.css">
    <link rel="stylesheet" href="tasks-redesign.css">
    <link rel="stylesheet" href="reminders-redesign.css">
    <link rel="stylesheet" href="timeline.css">

    <!-- JavaScript Files -->
    <script src="youtube-manager.js"></script>
    <script src="notes.js"></script>
    <script src="analytics.js"></script>
    <script src="recurring.js"></script>
    <script src="timeblock.js"></script>
    <script src="pomodoro.js"></script>
    <script src="focus-mode.js"></script>
    <script src="shortcuts.js"></script>
    <script src="quickadd.js"></script>
    <script src="data-management.js"></script>
    <script src="goals.js"></script>
    <script src="workflows.js"></script>
    <script src="achievements.js"></script>
    <script src="break-reminders.js"></script>
    <script src="task-dependencies.js"></script>
    <script src="export-options.js"></script>
    <script src="productivity-trends.js"></script>
    <script src="onboarding.js"></script>
    <script src="dashboard.js"></script>
    <script src="app.js"></script>
    <script src="tasks.js"></script>
    <script src="task-form.js"></script>
    <script src="scheduler.js"></script>
    <script src="productivity.js"></script>
    <script src="export.js"></script>
    <script src="keyboard-shortcuts.js"></script>
    <script src="tour.js"></script>
    <script src="tasks-redesign.js"></script>
    <script src="reminders-redesign.js"></script>

    <!-- Emergency YouTube Manager Fix -->
    <script>
        window.addEventListener('load', function() {
            console.log('EMERGENCY FIX: Direct YouTube handler loaded');
            
            // Wait for everything to be fully loaded
            setTimeout(function() {
                // Get the elements directly by ID
                const addButton = document.getElementById('add-youtube-link');
                const urlInput = document.getElementById('youtube-url-input');
                const categorySelect = document.getElementById('youtube-category');
                
                console.log('EMERGENCY FIX: Found elements:', {
                    addButton: !!addButton,
                    urlInput: !!urlInput,
                    categorySelect: !!categorySelect
                });
                
                if (addButton && urlInput) {
                    console.log('EMERGENCY FIX: Adding click handler to button');
                    
                    // Clear any existing handlers and add our own
                    const newButton = addButton.cloneNode(true);
                    if (addButton.parentNode) {
                        addButton.parentNode.replaceChild(newButton, addButton);
                        
                        // Add our direct click handler
                        newButton.addEventListener('click', function(e) {
                            e.preventDefault();
                            console.log('EMERGENCY FIX: Button clicked, URL:', urlInput.value);
                            
                            const url = urlInput.value.trim();
                            if (!url) {
                                alert('Please enter a YouTube URL');
                                return;
                            }
                            
                            // Extract video ID
                            let videoId = null;
                            try {
                                if (url.includes('youtu.be/')) {
                                    videoId = url.split('youtu.be/')[1].split(/[?#]/)[0];
                                } else if (url.includes('youtube.com/watch')) {
                                    const params = new URLSearchParams(url.split('?')[1]);
                                    videoId = params.get('v');
                                } else if (url.includes('youtube.com/shorts/')) {
                                    videoId = url.split('shorts/')[1].split(/[?#]/)[0];
                                }
                            } catch (err) {
                                console.error('EMERGENCY FIX: Error extracting ID:', err);
                            }
                            
                            if (!videoId) {
                                alert('Could not identify YouTube video ID. Please check the URL format.');
                                return;
                            }
                            
                            console.log('EMERGENCY FIX: Video ID:', videoId);
                            
                            // Show loading message
                            alert('Adding YouTube link... Please wait.');
                            
                            // Try to fetch video title via oEmbed
                            fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${videoId}&format=json`)
                                .then(response => response.json())
                                .then(data => {
                                    console.log('EMERGENCY FIX: Retrieved oEmbed data:', data);
                                    
                                    // Create link data with actual title and author
                                    const timestamp = Date.now();
                                    const linkData = {
                                        id: `youtube_${videoId}_${timestamp}`,
                                        url: url,
                                        title: data.title || 'YouTube Video',
                                        author: data.author_name || '',
                                        thumbnail: `https://i.ytimg.com/vi/${videoId}/hqdefault.jpg`,
                                        category: categorySelect ? categorySelect.value : 'Uncategorized',
                                        dateAdded: new Date().toISOString(),
                                        added: new Date().toISOString(),
                                        viewCount: 0
                                    };
                                    
                                    saveAndShowLink(linkData);
                                })
                                .catch(error => {
                                    console.error('EMERGENCY FIX: Error fetching oEmbed data:', error);
                                    
                                    // Create basic link data as fallback
                                    const timestamp = Date.now();
                                    const linkData = {
                                        id: `youtube_${videoId}_${timestamp}`,
                                        url: url,
                                        title: 'YouTube Video',
                                        thumbnail: `https://i.ytimg.com/vi/${videoId}/hqdefault.jpg`,
                                        category: categorySelect ? categorySelect.value : 'Uncategorized',
                                        dateAdded: new Date().toISOString(),
                                        added: new Date().toISOString(),
                                        viewCount: 0
                                    };
                                    
                                    saveAndShowLink(linkData);
                                });
                            
                            function saveAndShowLink(linkData) {
                                try {
                                    // Save to localStorage
                                    let links = [];
                                    try {
                                        const existingLinks = localStorage.getItem('youtubeLinks');
                                        if (existingLinks) {
                                            links = JSON.parse(existingLinks);
                                        }
                                    } catch (err) {
                                        console.error('EMERGENCY FIX: Error reading existing links:', err);
                                    }
                                    
                                    // Add new link
                                    links.push(linkData);
                                    localStorage.setItem('youtubeLinks', JSON.stringify(links));
                                    
                                    // Clear input
                                    urlInput.value = '';
                                    
                                    alert(`YouTube link added: "${linkData.title}"`);
                                    
                                    // Reload page to show changes
                                    window.location.reload();
                                } catch (err) {
                                    console.error('EMERGENCY FIX: Error saving link:', err);
                                    alert('Error saving link: ' + err.message);
                                }
                            }
                        });
                        
                        console.log('EMERGENCY FIX: Direct handler installed successfully');
                    }
                } else {
                    console.error('EMERGENCY FIX: Could not find required elements');
                }
                
                // Now add function to load and display links with correct titles
                loadAndDisplayLinks();
                
            }, 500); // Wait a bit for DOM to be fully loaded
            
            // Function to display links with proper titles
            function loadAndDisplayLinks() {
                try {
                    // Get links container
                    const linksContainer = document.getElementById('youtube-links-list');
                    if (!linksContainer) {
                        console.error('EMERGENCY FIX: YouTube links container not found');
                        return;
                    }
                    
                    // Load links from localStorage
                    let links = [];
                    try {
                        const savedLinksJson = localStorage.getItem('youtubeLinks');
                        if (savedLinksJson) {
                            links = JSON.parse(savedLinksJson);
                        }
                    } catch (err) {
                        console.error('EMERGENCY FIX: Error loading links from localStorage:', err);
                    }
                    
                    console.log('EMERGENCY FIX: Found ' + links.length + ' YouTube links');
                    
                    // Update link count
                    const linkCountElement = document.querySelector('.youtube-count');
                    if (linkCountElement) {
                        linkCountElement.textContent = links.length;
                    }
                    
                    // Display links or empty state
                    if (links.length === 0) {
                        linksContainer.innerHTML = `
                            <div class="empty-state">
                                <i class="fa-solid fa-film empty-icon"></i>
                                <p>No YouTube links added yet</p>
                                <p class="empty-subtitle">Add your first link above</p>
                            </div>
                        `;
                    } else {
                        // Clear container
                        linksContainer.innerHTML = '';
                        
                        // Add each link as an element
                        links.forEach(function(link) {
                            const linkElement = document.createElement('div');
                            linkElement.className = 'youtube-link-item animate-fade-in';
                            linkElement.setAttribute('data-id', link.id);
                            linkElement.setAttribute('data-category', link.category || 'Uncategorized');
                            
                            linkElement.innerHTML = `
                                <div class="youtube-thumbnail">
                                    <img src="${link.thumbnail || 'https://i.ytimg.com/vi/default/hqdefault.jpg'}" alt="${link.title || 'YouTube Video'}">
                                    <div class="play-button-overlay">
                                        <i class="fas fa-play"></i>
                                    </div>
                                </div>
                                <div class="youtube-link-content">
                                    <h3 class="youtube-link-title">${link.title || 'YouTube Video'}</h3>
                                    <p class="youtube-link-url">${link.url}</p>
                                    <div class="youtube-link-meta">
                                        <span class="category-tag">${link.category || 'Uncategorized'}</span>
                                        <span class="added-date">${new Date(link.dateAdded || link.added).toLocaleDateString()}</span>
                                    </div>
                                </div>
                                <div class="youtube-link-actions">
                                    <button class="action-btn change-category-btn" title="Change Category">
                                        <i class="fas fa-tag"></i>
                                    </button>
                                    <button class="action-btn open-link-btn" title="Open Link">
                                        <i class="fas fa-external-link-alt"></i>
                                    </button>
                                    <button class="action-btn delete-link-btn" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            `;
                            
                            // Add to container
                            linksContainer.appendChild(linkElement);
                            
                            // Add click event to open link
                            linkElement.addEventListener('click', function() {
                                window.open(link.url, '_blank');
                            });
                            
                            // Add event for open button
                            const openBtn = linkElement.querySelector('.open-link-btn');
                            if (openBtn) {
                                openBtn.addEventListener('click', function(e) {
                                    e.stopPropagation();
                                    window.open(link.url, '_blank');
                                });
                            }
                            
                            // Add event for delete button
                            const deleteBtn = linkElement.querySelector('.delete-link-btn');
                            if (deleteBtn) {
                                deleteBtn.addEventListener('click', function(e) {
                                    e.stopPropagation();
                                    if (confirm('Are you sure you want to delete this link?')) {
                                        // Remove from localStorage
                                        const updatedLinks = links.filter(l => l.id !== link.id);
                                        localStorage.setItem('youtubeLinks', JSON.stringify(updatedLinks));
                                        // Remove from DOM
                                        linkElement.remove();
                                        // Update count
                                        if (linkCountElement) {
                                            linkCountElement.textContent = updatedLinks.length;
                                        }
                                        // Show empty state if needed
                                        if (updatedLinks.length === 0) {
                                            linksContainer.innerHTML = `
                                                <div class="empty-state">
                                                    <i class="fa-solid fa-film empty-icon"></i>
                                                    <p>No YouTube links added yet</p>
                                                    <p class="empty-subtitle">Add your first link above</p>
                                                </div>
                                            `;
                                        }
                                    }
                                });
                            }
                        });
                    }
                    
                    console.log('EMERGENCY FIX: YouTube links displayed successfully');
                } catch (error) {
                    console.error('EMERGENCY FIX: Error displaying YouTube links:', error);
                }
            }
        });
    </script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo-icon">DP</div>
                <h2>Daily Progress</h2>
            </div>
            
            <div class="sidebar-nav">
                <a href="#" class="nav-item active" data-section="dashboard">
                    <i class="fa-solid fa-chart-line"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-section="youtube">
                    <i class="fa-brands fa-youtube"></i>
                    <span>YouTube Manager</span>
                </a>
                <a href="#" class="nav-item" data-section="scheduler">
                    <i class="fa-solid fa-calendar-days"></i>
                    <span>Scheduler</span>
                    <span class="badge">3</span>
                </a>
                <a href="#" class="nav-item" data-section="tasks">
                    <i class="fa-solid fa-list-check"></i>
                    <span>Tasks</span>
                </a>
                <a href="#" class="nav-item" data-section="reminders">
                    <i class="fa-solid fa-bell"></i>
                    <span>Reminders</span>
                </a>
                <a href="#" class="nav-item" data-section="goals">
                    <i class="fa-solid fa-bullseye"></i>
                    <span>Goals</span>
                </a>
                <a href="#" class="nav-item" data-section="notes">
                    <i class="fa-solid fa-note-sticky"></i>
                    <span>Notes</span>
                </a>
                <a href="#" class="nav-item" data-section="analytics">
                    <i class="fa-solid fa-chart-pie"></i>
                    <span>Analytics</span>
                </a>
                <a href="#" class="nav-item" data-section="pomodoro-section" id="pomodoro-nav-item">
                    <i class="fa-solid fa-clock"></i>
                    <span>Pomodoro Timer</span>
                </a>
                <a href="#" class="nav-item" data-section="settings">
                    <i class="fa-solid fa-gear"></i>
                    <span>Settings</span>
                </a>
            </div>
            
            <div class="sidebar-footer">
                <div id="theme-toggle" class="theme-toggle"></div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Navigation -->
            <div class="top-nav">
                <div class="date-navigator">
                    <div class="current-date">Wednesday, September 8, 2023</div>
                    <div class="nav-buttons">
                        <button class="nav-button"><i class="fa-solid fa-chevron-left"></i></button>
                        <button class="nav-button"><i class="fa-solid fa-chevron-right"></i></button>
                    </div>
                </div>
                
                <div class="view-selector">
                    <button class="view-option active">Day</button>
                    <button class="view-option">Week</button>
                    <button class="view-option">Month</button>
                </div>
                
                <button class="view-option">Today</button>
            </div>

            <!-- Dashboard Content -->
            <div class="dashboard-content section-content" id="dashboard-section">
                <!-- Daily Summary Card -->
                <div class="daily-summary-card card">
                    <div class="summary-header">
                        <h2>Daily Summary</h2>
                    </div>
                    
                    <div class="summary-stat">
                        <div class="summary-icon">
                            <i class="fa-solid fa-bolt"></i>
                        </div>
                        <div class="summary-text">
                            <p>Today you had <strong class="summary-value">20%</strong> 
                            <span class="summary-percentage positive"><i class="fa-solid fa-arrow-up"></i>more</span> 
                            meetings than usual</p>
                        </div>
                    </div>
                    
                    <div class="summary-stat">
                        <div class="summary-icon">
                            <i class="fa-solid fa-check"></i>
                        </div>
                        <div class="summary-text">
                            <p>You closed <strong>2 tasks</strong> on two projects, but the focus was
                            <span class="summary-percentage negative"><i class="fa-solid fa-arrow-down"></i>12%</span> 
                            lower than yesterday</p>
                        </div>
                    </div>
                    
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <div class="analytics-label">Focus</div>
                            <div class="analytics-value">62%</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-label">Meetings</div>
                            <div class="analytics-value">15%</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-label">Breaks</div>
                            <div class="analytics-value">11%</div>
                        </div>
                        <div class="analytics-card">
                            <div class="analytics-label">Other</div>
                            <div class="analytics-value">12%</div>
                        </div>
                    </div>
                </div>
                
                <!-- Time Worked Card -->
                <div class="stats-card card">
                    <div class="card-header">
                        <h3>Total Time Worked</h3>
                    </div>
                    
                    <div class="stats-value-container">
                        <div class="stats-value">6 hr 18 min</div>
                    </div>
                    
                    <div class="stats-subtitle">Productive: 5 hr 42 min</div>
                    
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 79%;"></div>
                    </div>
                </div>
                
                <!-- Productivity Card -->
                <div class="stats-card card">
                    <div class="card-header">
                        <h3>Productivity</h3>
                    </div>
                    
                    <div class="stats-value-container">
                        <div class="stats-value">79%</div>
                        <div class="stats-unit">of 8 hr 0 min</div>
                    </div>
                    
                    <div class="stats-subtitle">Target: 85%</div>
                    
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 79%;"></div>
                    </div>
                </div>
                
                <!-- Timeline Card -->
                <div class="timeline-card card">
                    <div class="card-header">
                        <h3>Timeline</h3>
                    </div>
                    
                    <div class="timeline-container">
                        <div class="timeline-hours">
                            <div class="timeline-hour">9:00</div>
                            <div class="timeline-hour">10:00</div>
                            <div class="timeline-hour">11:00</div>
                            <div class="timeline-hour">12:00</div>
                            <div class="timeline-hour">13:00</div>
                            <div class="timeline-hour">14:00</div>
                            <div class="timeline-hour">15:00</div>
                            <div class="timeline-hour">16:00</div>
                            <div class="timeline-hour">17:00</div>
                            <div class="timeline-hour">18:00</div>
                            <div class="timeline-hour">19:00</div>
                            <div class="timeline-hour">20:00</div>
                        </div>
                        
                        <div class="timeline-blocks">
                            <!-- Timeline blocks will be added dynamically -->
                        </div>
                    </div>
                </div>
                
                <!-- Projects Card -->
                <div class="projects-card card">
                    <div class="card-header">
                        <h3>Projects & Tasks</h3>
                    </div>
                    
                    <div class="project-list">
                        <div class="progress-item">
                            <div class="progress-item-icon">
                                <i class="fa-solid fa-folder"></i>
                            </div>
                            <div class="progress-item-info">
                                <div class="progress-item-name">
                                    <span>Finwall app</span>
                                    <span class="progress-item-time">3 hr 26 min</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar-fill" style="width: 49%;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="progress-item">
                            <div class="progress-item-icon" style="background-color: #6246ea;">
                                <i class="fa-solid fa-code"></i>
                            </div>
                            <div class="progress-item-info">
                                <div class="progress-item-name">
                                    <span>DS42 - Settings section</span>
                                    <span class="progress-item-time">55 min</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar-fill" style="width: 32%;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="progress-item">
                            <div class="progress-item-icon" style="background-color: #3b82f6;">
                                <i class="fa-solid fa-globe"></i>
                            </div>
                            <div class="progress-item-info">
                                <div class="progress-item-name">
                                    <span>Finwall website</span>
                                    <span class="progress-item-time">1 hr 47 min</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar-fill" style="width: 25%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Apps Card -->
                <div class="apps-card card">
                    <div class="card-header">
                        <h3>Apps & Websites</h3>
                    </div>
                    
                    <div class="app-list">
                        <div class="progress-item">
                            <div class="progress-item-icon" style="background-color: #6246ea;">
                                <i class="fa-solid fa-pen-ruler"></i>
                            </div>
                            <div class="progress-item-info">
                                <div class="progress-item-name">
                                    <span>Figma</span>
                                    <span class="progress-item-time">2 hr 58 min</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar-fill" style="width: 47%;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="progress-item">
                            <div class="progress-item-icon" style="background-color: #3b82f6;">
                                <i class="fa-brands fa-adobe"></i>
                            </div>
                            <div class="progress-item-info">
                                <div class="progress-item-name">
                                    <span>Adobe Photoshop</span>
                                    <span class="progress-item-time">46 min</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar-fill" style="width: 12%;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="progress-item">
                            <div class="progress-item-icon" style="background-color: #4f46e5;">
                                <i class="fa-solid fa-video"></i>
                            </div>
                            <div class="progress-item-info">
                                <div class="progress-item-name">
                                    <span>zoom.us</span>
                                    <span class="progress-item-time">45 min</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar-fill" style="width: 12%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- YouTube Manager Section -->
            <div class="section-content" id="youtube-section" style="display: none;">
                <div class="section-header">
                    <h2>YouTube Link Manager</h2>
                    <p>Add, organize, and schedule your YouTube videos</p>
                </div>

                <div class="youtube-grid">
                    <!-- YouTube Link Input Card -->
                    <div class="youtube-input-card card">
                        <div class="card-header">
                            <h3>ADD YOUTUBE LINK</h3>
                        </div>
                        <div class="youtube-input-container">
                            <div class="youtube-input">
                                <i class="fa-brands fa-youtube youtube-input-icon"></i>
                                <input type="text" id="youtube-url-input" placeholder="Paste YouTube Link">
                                <button id="add-youtube-link" class="btn-add">
                                    <i class="fa-solid fa-plus"></i> Add
                                </button>
                            </div>
                            <p class="validation-message"></p>
                            <div class="youtube-preview"></div>
                            <div class="youtube-categories-wrapper">
                                <div class="categories-dropdown">
                                    <label for="youtube-category">Category:</label>
                                    <select id="youtube-category" class="youtube-category-select">
                                        <option value="Uncategorized">Uncategorized</option>
                                        <!-- Categories will be loaded here dynamically -->
                                    </select>
                                </div>
                                <div class="add-category-wrapper">
                                    <button id="show-add-category" class="show-add-category-btn">
                                        <i class="fa-solid fa-plus"></i> New Category
                                    </button>
                                    <div id="add-category-form" class="add-category-form" style="display: none;">
                                        <input type="text" id="new-category-input" placeholder="New category name">
                                        <button id="add-category-btn">Add</button>
                                        <button id="cancel-category-btn">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- YouTube Categories Management Card -->
                    <div class="youtube-categories-card">
                        <div class="card-header">
                            <h3><i class="fas fa-tags"></i> Manage Categories</h3>
                            <div class="header-subtitle">Organize your YouTube links by category for easier filtering</div>
                        </div>
                        
                        <div class="youtube-categories-container">
                            <!-- Add New Category Section -->
                            <div class="add-category-section">
                                <h4>Add New Category</h4>
                                <div class="add-category-form">
                                    <div class="input-with-button">
                                        <input type="text" id="category-name-input" class="category-input" placeholder="Enter category name...">
                                        <button id="add-new-category-btn" class="btn btn-primary">
                                            <i class="fas fa-plus"></i> Add
                                        </button>
                                    </div>
                                    <div id="category-validation" class="validation-message" style="display: none;"></div>
                                </div>
                            </div>
                            
                            <!-- Current Categories Section -->
                            <div class="current-categories-section">
                                <h4>Current Categories</h4>
                                <div id="categories-list" class="categories-grid">
                                    <!-- Categories will be populated here dynamically -->
                                    <div class="empty-categories">
                                        <i class="fas fa-info-circle"></i>
                                        <p>No categories found. Add your first category above.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- YouTube Links List Card -->
                    <div class="youtube-links-card card">
                        <div class="card-header">
                            <h3>MY YOUTUBE LINKS</h3>
                            <span class="youtube-count">0</span>
                        </div>
                        <div class="youtube-filter-container">
                            <label for="category-filter">Filter by category:</label>
                            <select id="category-filter" class="category-filter-select">
                                <option value="all">All Categories</option>
                                <!-- Categories will be loaded here dynamically -->
                            </select>
                        </div>
                        <div class="youtube-links-container" id="youtube-links-list">
                            <!-- YouTube links will be added here dynamically -->
                            <div class="empty-state">
                                <i class="fa-solid fa-film empty-icon"></i>
                                <p>No YouTube links added yet</p>
                                <p class="empty-subtitle">Add your first link above</p>
                            </div>
                        </div>
                    </div>

                    <!-- YouTube Scheduler Card -->
                    <div class="youtube-scheduler-card card">
                        <div class="card-header">
                            <h3>SCHEDULE VIDEOS</h3>
                        </div>
                        <div class="youtube-scheduler-container">
                            <div id="youtube-schedule-timeline" class="youtube-timeline">
                                <!-- Timeline will be populated dynamically -->
                                <div class="youtube-timeline-empty">
                                    <p>Drag videos here to schedule them</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Time-Based Scheduler Section -->
            <div class="section-content" id="scheduler-section" style="display: none;">
                <div class="section-header">
                    <h2>Scheduler</h2>
                    <p>Organize your day with time blocks for maximum productivity</p>
                </div>
                
                <div class="scheduler-nav">
                    <div class="date-navigator">
                        <div class="current-date">Wednesday, September 8, 2023</div>
                        <div class="nav-buttons">
                            <button class="nav-button"><i class="fa-solid fa-chevron-left"></i></button>
                            <button class="nav-button"><i class="fa-solid fa-chevron-right"></i></button>
                        </div>
                    </div>
                    
                    <div class="view-selector">
                        <button class="view-option active">Day</button>
                        <button class="view-option">Week</button>
                        <button class="view-option">Month</button>
                    </div>
                    
                    <button class="view-option">Today</button>
                </div>
                
                <div class="scheduler-container">
                    <div class="time-labels">
                        <!-- Time labels will be generated via JavaScript -->
                        <div class="time-label">12 AM</div>
                        <div class="time-label">1 AM</div>
                        <div class="time-label">2 AM</div>
                        <div class="time-label">3 AM</div>
                        <div class="time-label">4 AM</div>
                        <div class="time-label">5 AM</div>
                        <div class="time-label">6 AM</div>
                        <div class="time-label">7 AM</div>
                        <div class="time-label">8 AM</div>
                        <div class="time-label">9 AM</div>
                        <div class="time-label">10 AM</div>
                        <div class="time-label">11 AM</div>
                        <div class="time-label">12 PM</div>
                        <div class="time-label">1 PM</div>
                        <div class="time-label">2 PM</div>
                        <div class="time-label">3 PM</div>
                        <div class="time-label">4 PM</div>
                        <div class="time-label">5 PM</div>
                        <div class="time-label">6 PM</div>
                        <div class="time-label">7 PM</div>
                        <div class="time-label">8 PM</div>
                        <div class="time-label">9 PM</div>
                        <div class="time-label">10 PM</div>
                        <div class="time-label">11 PM</div>
                    </div>
                    
                    <div class="scheduler-grid" id="scheduler-grid">
                        <!-- Time slots will be generated via JavaScript -->
                    </div>
                </div>
                
                <button class="add-time-block" id="add-time-block">
                    <i class="fa-solid fa-plus"></i>
                </button>
            </div>

            <!-- Block Create Modal -->
            <div class="block-create-modal" id="block-create-modal">
                <div class="block-create-content">
                    <div class="block-create-header">
                        <h3>Create Time Block</h3>
                        <button class="block-create-close">&times;</button>
                    </div>
                    
                    <form id="block-create-form" class="block-create-form">
                        <input type="hidden" id="block-id">
                        <input type="hidden" id="block-color" value="purple">
                        
                        <div class="form-group">
                            <label for="block-title">Title</label>
                            <input type="text" id="block-title" placeholder="What are you planning to do?" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="block-type">Activity Type</label>
                            <select id="block-type" required>
                                <option value="work">Work</option>
                                <option value="leisure">Leisure</option>
                                <option value="break">Break</option>
                                <option value="youtube">YouTube</option>
                                <option value="task">Task</option>
                                <option value="reminder">Reminder</option>
                                <option value="custom">Custom</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="block-description">Description (Optional)</label>
                            <textarea id="block-description" rows="3" placeholder="Add additional details"></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="block-date">Date</label>
                                <input type="date" id="block-date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="block-start-time">Start Time</label>
                                <input type="time" id="block-start-time" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="block-end-time">End Time</label>
                                <input type="time" id="block-end-time" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Color</label>
                            <div class="block-color-options">
                                <div class="block-color-option red"></div>
                                <div class="block-color-option orange"></div>
                                <div class="block-color-option yellow"></div>
                                <div class="block-color-option green"></div>
                                <div class="block-color-option blue"></div>
                                <div class="block-color-option purple active"></div>
                                <div class="block-color-option pink"></div>
                            </div>
                        </div>
                        
                        <div class="block-create-actions">
                            <button type="button" id="cancel-block-btn" class="btn btn-secondary">Cancel</button>
                            <button type="submit" id="create-block-btn" class="btn btn-primary">Create Block</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Settings Section -->
            <div class="section-content" id="settings-section" style="display: none;">
                <div class="section-header">
                    <h2>Settings</h2>
                    <p>Customize your application preferences</p>
                </div>

                <div class="settings-grid">
                    <!-- Appearance Settings Card -->
                    <div class="settings-card card">
                        <div class="card-header">
                            <h3>Appearance</h3>
                        </div>
                        <div class="settings-content">
                            <div class="settings-group">
                                <div class="settings-item">
                                    <div class="settings-label">
                                        <h4>Theme</h4>
                                        <p>Choose between light and dark mode</p>
                                    </div>
                                    <div class="settings-control">
                                        <div class="theme-options">
                                            <label class="theme-option">
                                                <input type="radio" name="theme" id="theme-light" value="light">
                                                <span class="theme-label"><i class="fa-solid fa-sun"></i> Light</span>
                                            </label>
                                            <label class="theme-option">
                                                <input type="radio" name="theme" id="theme-dark" value="dark">
                                                <span class="theme-label"><i class="fa-solid fa-moon"></i> Dark</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="settings-item">
                                    <div class="settings-label">
                                        <h4>Accent Color</h4>
                                        <p>Select your preferred accent color</p>
                                    </div>
                                    <div class="settings-control">
                                        <div class="color-options">
                                            <div class="color-option purple active" data-color="purple"></div>
                                            <div class="color-option blue" data-color="blue"></div>
                                            <div class="color-option green" data-color="green"></div>
                                            <div class="color-option orange" data-color="orange"></div>
                                            <div class="color-option red" data-color="red"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Display Settings Card -->
                    <div class="settings-card card">
                        <div class="card-header">
                            <h3>Display</h3>
                        </div>
                        <div class="settings-content">
                            <div class="settings-group">
                                <div class="settings-item">
                                    <div class="settings-label">
                                        <h4>Sidebar</h4>
                                        <p>Show or hide the sidebar</p>
                                    </div>
                                    <div class="settings-control">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="sidebar-toggle" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="settings-item">
                                    <div class="settings-label">
                                        <h4>Compact Mode</h4>
                                        <p>Reduce spacing throughout the interface</p>
                                    </div>
                                    <div class="settings-control">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="compact-mode">
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="settings-item">
                                    <div class="settings-label">
                                        <h4>Font Size</h4>
                                        <p>Adjust the text size</p>
                                    </div>
                                    <div class="settings-control">
                                        <div class="font-size-controls">
                                            <button id="decrease-font" class="font-size-btn"><i class="fa-solid fa-minus"></i></button>
                                            <span id="font-size-display">100%</span>
                                            <button id="increase-font" class="font-size-btn"><i class="fa-solid fa-plus"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Notification Settings Card -->
                    <div class="settings-card card">
                        <div class="card-header">
                            <h3>Notifications</h3>
                        </div>
                        <div class="settings-content">
                            <div class="settings-group">
                                <div class="settings-item">
                                    <div class="settings-label">
                                        <h4>Desktop Notifications</h4>
                                        <p>Show notifications on your desktop</p>
                                    </div>
                                    <div class="settings-control">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="desktop-notifications" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="settings-item">
                                    <div class="settings-label">
                                        <h4>Sound</h4>
                                        <p>Play sound with notifications</p>
                                    </div>
                                    <div class="settings-control">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="notification-sound">
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Data Settings Card -->
                    <div class="settings-card card">
                        <div class="card-header">
                            <h3>Data</h3>
                        </div>
                        <div class="settings-content">
                            <div class="settings-group">
                                <div class="settings-item">
                                    <div class="settings-label">
                                        <h4>Export Data</h4>
                                        <p>Download all your data as a JSON file</p>
                                    </div>
                                    <div class="settings-control">
                                        <button id="export-data" class="settings-btn">
                                            <i class="fa-solid fa-download"></i> Export
                                        </button>
                                    </div>
                                </div>
                                <div class="settings-item">
                                    <div class="settings-label">
                                        <h4>Import Data</h4>
                                        <p>Import data from a file</p>
                                    </div>
                                    <div class="settings-control">
                                        <button id="import-data" class="settings-btn">
                                            <i class="fa-solid fa-upload"></i> Import
                                        </button>
                                    </div>
                                </div>
                                <div class="settings-item">
                                    <div class="settings-label">
                                        <h4>Clear Data</h4>
                                        <p>Reset all app data (cannot be undone)</p>
                                    </div>
                                    <div class="settings-control">
                                        <button id="clear-data" class="settings-btn danger">
                                            <i class="fa-solid fa-trash"></i> Clear
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Productivity Settings Card -->
                    <div class="settings-card card">
                        <div class="card-header">
                            <h3>Productivity</h3>
                        </div>
                        <div class="settings-content">
                            <div class="settings-group">
                                <div class="settings-item">
                                    <div class="settings-label">
                                        <h4>Focus Mode</h4>
                                        <p>Enter a distraction-free environment for focused work</p>
                                    </div>
                                    <div class="settings-control">
                                        <button id="focus-mode-toggle" class="focus-mode-toggle" title="Enter Focus Mode (Alt+F)">
                                            <i class="fa-solid fa-bullseye"></i> Focus Mode
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tasks Section -->
            <div class="section-content" id="tasks-section" style="display: none;">
                <div class="section-header task-header">
                    <div class="task-header-left">
                        <h2>Tasks</h2>
                        <p class="task-summary">
                            <span id="pending-count">0</span> pending, 
                            <span id="completed-count">0</span> completed
                        </p>
                    </div>
                    <div class="task-header-right">
                        <div class="task-search-container">
                            <i class="fa-solid fa-search search-icon"></i>
                            <input type="text" id="task-search" placeholder="Search tasks...">
                        </div>
                        <button class="btn-primary" id="add-task-btn-direct" onclick="javascript:toggleQuickAddForm(); return false;">
                            <i class="fa-solid fa-plus"></i> Add Task
                        </button>
                    </div>
                </div>
                
                <div class="task-view-container">
                    <div class="task-sidebar">
                        <div class="task-view-selector">
                            <div class="view-header">
                                <h3>Views</h3>
                            </div>
                            <ul class="view-list">
                                <li class="view-item active" data-view="all">
                                    <i class="fa-solid fa-list-ul"></i>
                                    <span>All Tasks</span>
                                    <span class="task-count" id="all-count">0</span>
                                </li>
                                <li class="view-item" data-view="today">
                                    <i class="fa-solid fa-calendar-day"></i>
                                    <span>Today</span>
                                    <span class="task-count" id="today-count">0</span>
                                </li>
                                <li class="view-item" data-view="upcoming">
                                    <i class="fa-solid fa-calendar-week"></i>
                                    <span>Upcoming</span>
                                    <span class="task-count" id="upcoming-count">0</span>
                                </li>
                                <li class="view-item" data-view="completed">
                                    <i class="fa-solid fa-check-circle"></i>
                                    <span>Completed</span>
                                    <span class="task-count" id="completed-view-count">0</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="task-filter-section">
                            <div class="view-header">
                                <h3>Filter by</h3>
                            </div>
                            <div class="filter-group">
                                <h4>Priority</h4>
                                <div class="filter-options priority-filter">
                                    <button class="filter-btn active" data-priority="all">All</button>
                                    <button class="filter-btn priority-high" data-priority="high">High</button>
                                    <button class="filter-btn priority-medium" data-priority="medium">Medium</button>
                                    <button class="filter-btn priority-low" data-priority="low">Low</button>
                                </div>
                            </div>
                            <div class="filter-group">
                                <h4>Category</h4>
                                <select id="category-filter" class="category-select">
                                    <option value="all">All Categories</option>
                                    <option value="work">Work</option>
                                    <option value="personal">Personal</option>
                                    <option value="health">Health</option>
                                    <option value="education">Education</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <h4>Status</h4>
                                <div class="filter-options status-filter">
                                    <button class="filter-btn active" data-status="all">All</button>
                                    <button class="filter-btn" data-status="pending">Pending</button>
                                    <button class="filter-btn" data-status="completed">Completed</button>
                                </div>
                            </div>
                            <div class="filter-actions">
                                <button id="clear-filters" class="text-btn">
                                    <i class="fa-solid fa-times"></i> Clear Filters
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="task-content">
                        <div class="task-sort-bar">
                            <div class="sort-options">
                                <label for="sort-select">Sort by:</label>
                                <select id="sort-select">
                                    <option value="date-added-desc">Date Added (Newest)</option>
                                    <option value="date-added-asc">Date Added (Oldest)</option>
                                    <option value="due-date-asc">Due Date (Soonest)</option>
                                    <option value="due-date-desc">Due Date (Latest)</option>
                                    <option value="priority-desc">Priority (High to Low)</option>
                                    <option value="priority-asc">Priority (Low to High)</option>
                                    <option value="alphabetical">Alphabetical</option>
                                </select>
                            </div>
                            <div class="view-toggle">
                                <button class="view-toggle-btn active" data-view="list">
                                    <i class="fa-solid fa-list"></i>
                                </button>
                                <button class="view-toggle-btn" data-view="grid">
                                    <i class="fa-solid fa-th-large"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="task-list-container">
                            <!-- Quick add task form -->
                            <div id="quick-add-task-form" class="quick-add-task-form" style="display: none;">
                                <div class="quick-form-header">
                                    <h3>Quick Add Task</h3>
                                    <button type="button" class="close-quick-form" onclick="toggleQuickAddForm()">&times;</button>
                                </div>
                                <form id="inline-task-form" onsubmit="return addTaskQuick(event)">
                                    <div class="quick-form-row">
                                        <input type="text" id="quick-task-description" placeholder="What needs to be done?" required autocomplete="off">
                                    </div>
                                    <div class="quick-form-row">
                                        <textarea id="quick-task-notes" placeholder="Add notes or description (optional)" rows="2"></textarea>
                                    </div>
                                    <div class="quick-form-row">
                                        <select id="quick-task-priority">
                                            <option value="low">Low Priority</option>
                                            <option value="medium" selected>Medium Priority</option>
                                            <option value="high">High Priority</option>
                                        </select>
                                        <select id="quick-task-category">
                                            <option value="">No Category</option>
                                            <option value="work">Work</option>
                                            <option value="personal">Personal</option>
                                            <option value="health">Health</option>
                                            <option value="education">Education</option>
                                            <option value="other">Other</option>
                                        </select>
                                        <input type="date" id="quick-task-due-date" placeholder="Due Date (Optional)">
                                    </div>
                                    <div class="quick-form-actions">
                                        <button type="button" onclick="toggleQuickAddForm()" class="btn-secondary">Cancel</button>
                                        <button type="submit" class="btn-primary">Save Task</button>
                                    </div>
                                </form>
                            </div>
                            <div class="task-list">
                                <!-- Task items will be here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Goals Section -->
            <div class="section-content" id="goals-section" style="display: none;">
                <div class="goals-header">
                    <div class="goals-header-left">
                        <h2><i class="fa-solid fa-bullseye"></i> Goals</h2>
                        <p class="goals-subtitle">Track and achieve your personal and professional objectives</p>
                    </div>
                    <div class="goals-header-actions">
                        <button class="btn-primary" id="quick-add-goal-btn" onclick="javascript:window.showQuickAddGoalModal(); return false;">
                            <i class="fa-solid fa-bolt"></i> Quick Add
                        </button>
                        <button class="btn-primary" id="add-goal-btn" onclick="javascript:window.showAddGoalForm(event); return false;">
                            <i class="fa-solid fa-plus"></i> Add Goal
                        </button>
                        <button class="btn-secondary test-modal-btn" onclick="javascript:showTestModal(); return false;" style="display: none;">
                            <i class="fa-solid fa-vial"></i> Test
                        </button>
                    </div>
                </div>
                
                <!-- Goals Stats Summary -->
                <div class="goals-dashboard">
                    <div class="goals-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fa-solid fa-check-circle"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="completed-goals-count">0</h3>
                                <p>Completed</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fa-solid fa-spinner"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="in-progress-goals-count">0</h3>
                                <p>In Progress</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fa-solid fa-calendar-day"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="daily-goals-count">0</h3>
                                <p>Daily Goals</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fa-solid fa-calendar-week"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="weekly-goals-count">0</h3>
                                <p>Weekly Goals</p>
                            </div>
                        </div>
                        
                        <!-- Progress Chart -->
                        <div class="goal-progress-chart">
                            <h3>Completion Rate</h3>
                            <div class="chart-container" id="goals-completion-chart">
                                <canvas id="goal-completion-chart-canvas"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Main Goals UI Container -->
                <div class="goals-main-container">
                    <!-- Sidebar -->
                    <div class="goals-sidebar">
                        <div class="sidebar-section">
                            <h3><i class="fa-solid fa-filter"></i> Filters</h3>
                            <ul class="sidebar-list">
                                <li class="sidebar-item active" data-filter="all">
                                    <i class="fa-solid fa-border-all"></i>
                                    <span>All Goals</span>
                                    <span class="goals-count" id="all-goals-count">0</span>
                                </li>
                                <li class="sidebar-item" data-filter="daily">
                                    <i class="fa-solid fa-calendar-day"></i>
                                    <span>Daily</span>
                                    <span class="goals-count" id="daily-filter-count">0</span>
                                </li>
                                <li class="sidebar-item" data-filter="weekly">
                                    <i class="fa-solid fa-calendar-week"></i>
                                    <span>Weekly</span>
                                    <span class="goals-count" id="weekly-filter-count">0</span>
                                </li>
                                <li class="sidebar-item" data-filter="monthly">
                                    <i class="fa-solid fa-calendar-alt"></i>
                                    <span>Monthly</span>
                                    <span class="goals-count" id="monthly-filter-count">0</span>
                                </li>
                                <li class="sidebar-item" data-filter="long-term">
                                    <i class="fa-solid fa-road"></i>
                                    <span>Long-term</span>
                                    <span class="goals-count" id="longterm-filter-count">0</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="sidebar-section">
                            <h3><i class="fa-solid fa-tags"></i> Tags</h3>
                            <div class="tags-filter" id="tags-filter-container">
                                <!-- Tags will be added dynamically -->
                                <div class="tags-empty">No tags yet</div>
                            </div>
                        </div>
                        
                        <div class="sidebar-section">
                            <h3><i class="fa-solid fa-sliders"></i> Options</h3>
                            <ul class="sidebar-list">
                                <li class="sidebar-item" id="show-archived-btn">
                                    <i class="fa-solid fa-archive"></i>
                                    <span>Archived Goals</span>
                                </li>
                                <li class="sidebar-item" id="show-achievements-btn">
                                    <i class="fa-solid fa-trophy"></i>
                                    <span>Achievements</span>
                                </li>
                                <li class="sidebar-item" id="show-templates-btn">
                                    <i class="fa-solid fa-copy"></i>
                                    <span>Goal Templates</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Goals Content -->
                    <div class="goals-content">
                        <!-- Toolbar -->
                        <div class="goals-toolbar">
                            <div class="goals-search">
                                <div class="search-container">
                                    <i class="fa-solid fa-search search-icon"></i>
                                    <input type="text" id="goals-search-input" placeholder="Search goals...">
                                </div>
                            </div>
                            
                            <div class="goals-view-controls">
                                <div class="view-toggle-group">
                                    <button class="view-toggle active" data-view="grid" title="Grid View">
                                        <i class="fa-solid fa-th-large"></i>
                                    </button>
                                    <button class="view-toggle" data-view="list" title="List View">
                                        <i class="fa-solid fa-list"></i>
                                    </button>
                                    <button class="view-toggle" data-view="timeline" title="Timeline View">
                                        <i class="fa-solid fa-stream"></i>
                                    </button>
                                    <button class="view-toggle" data-view="analytics" title="Analytics View">
                                        <i class="fa-solid fa-chart-bar"></i>
                                    </button>
                                </div>
                                
                                <div class="goals-sort">
                                    <select id="goals-sort-select">
                                        <option value="dateCreated">Date Created</option>
                                        <option value="dueDate">Due Date</option>
                                        <option value="priority">Priority</option>
                                        <option value="progress">Progress</option>
                                        <option value="alphabetical">Alphabetical</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Timeline Controls (visible only in timeline view) -->
                        <div class="timeline-controls" style="display: none;">
                            <div class="timeline-scale-controls">
                                <button class="timeline-btn active" data-scale="day">Day</button>
                                <button class="timeline-btn" data-scale="week">Week</button>
                                <button class="timeline-btn" data-scale="month">Month</button>
                            </div>
                            <div class="timeline-navigation">
                                <button class="timeline-nav-btn" id="prev-timeline">
                                    <i class="fa-solid fa-chevron-left"></i>
                                </button>
                                <span class="timeline-period" id="timeline-period-text">Today</span>
                                <button class="timeline-nav-btn" id="next-timeline">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Goals Container -->
                        <div class="goals-container">
                            <!-- Goals will be dynamically added here -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Notes Section -->
            <div class="section-content" id="notes-section" style="display: none;">
                <div class="section-header">
                    <h2>Notes</h2>
                    <p>Capture and organize your thoughts, ideas, and information in one place.</p>
                </div>
                
                <div class="notes-container">
                    <!-- Notes List Panel -->
                    <div class="notes-list-card">
                        <div class="notes-list-header">
                            <div class="notes-header-title">
                                <h3>My Notes <span class="notes-count" id="notes-count">0</span></h3>
                            </div>
                            <button class="new-note-btn" id="new-note-btn">
                                <i class="fa-solid fa-plus"></i> New Note
                            </button>
                        </div>
                        
                        <div class="notes-search">
                            <i class="fa-solid fa-search notes-search-icon"></i>
                            <input type="text" id="notes-search-input" placeholder="Search notes...">
                        </div>
                        
                        <div class="notes-list" id="notes-list">
                            <!-- Notes will be dynamically added here -->
                            <div class="notes-empty-state">
                                <i class="fa-solid fa-note-sticky notes-empty-icon"></i>
                                <h3 class="notes-empty-title">No notes yet</h3>
                                <p class="notes-empty-subtitle">Start creating notes to keep track of your ideas, thoughts, and information.</p>
                                <button class="create-first-note-btn" id="create-first-note-btn">
                                    <i class="fa-solid fa-plus"></i> Create your first note
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Note Editor Panel -->
                    <div class="note-editor-card">
                        <div class="note-editor-header">
                            <div class="note-editor-title">
                                <input type="text" id="note-title-input" placeholder="Note title">
                            </div>
                            <div class="note-editor-controls">
                                <button class="note-editor-btn primary" id="save-note-btn">
                                    <i class="fa-solid fa-save"></i> Save
                                </button>
                                <button class="note-editor-btn secondary" id="discard-note-btn">
                                    <i class="fa-solid fa-undo"></i> Discard
                                </button>
                                <button class="note-editor-btn danger" id="delete-note-btn" style="display: none;">
                                    <i class="fa-solid fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="note-toolbar">
                            <button class="note-toolbar-btn" data-format="bold">
                                <i class="fa-solid fa-bold"></i>
                            </button>
                            <button class="note-toolbar-btn" data-format="italic">
                                <i class="fa-solid fa-italic"></i>
                            </button>
                            <button class="note-toolbar-btn" data-format="underline">
                                <i class="fa-solid fa-underline"></i>
                            </button>
                            <span class="note-toolbar-separator"></span>
                            <button class="note-toolbar-btn" data-format="heading">
                                <i class="fa-solid fa-heading"></i>
                            </button>
                            <button class="note-toolbar-btn" data-format="list-ul">
                                <i class="fa-solid fa-list-ul"></i>
                            </button>
                            <button class="note-toolbar-btn" data-format="list-ol">
                                <i class="fa-solid fa-list-ol"></i>
                            </button>
                            <span class="note-toolbar-separator"></span>
                            <button class="note-toolbar-btn" data-format="link">
                                <i class="fa-solid fa-link"></i>
                            </button>
                            <button class="note-toolbar-btn" data-format="image">
                                <i class="fa-solid fa-image"></i>
                            </button>
                            <span class="note-toolbar-separator"></span>
                            <button class="note-toolbar-btn" data-format="code">
                                <i class="fa-solid fa-code"></i>
                            </button>
                            <button class="note-toolbar-btn" data-format="quote">
                                <i class="fa-solid fa-quote-left"></i>
                            </button>
                        </div>
                        
                        <div class="note-editor-content">
                            <textarea id="note-content" placeholder="Start writing your note here..."></textarea>
                            <div class="saving-indicator">
                                <i class="fa-solid fa-circle-notch"></i> Saving...
                            </div>
                            <div class="autosave-success">
                                <i class="fa-solid fa-check"></i> Saved
                            </div>
                        </div>
                        
                        <div class="note-editor-footer">
                            <div class="note-word-count">
                                <span id="word-count">0 words</span> | <span id="char-count">0 characters</span>
                            </div>
                            <div class="note-category-selector">
                                <select id="note-category">
                                    <option value="">No Category</option>
                                    <option value="Personal">Personal</option>
                                    <option value="Work">Work</option>
                                    <option value="Study">Study</option>
                                    <option value="Ideas">Ideas</option>
                                    <option value="To-Do">To-Do</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Analytics Section -->
            <div id="analytics-section" class="section-content">
                <div class="section-header">
                    <h2>Analytics Dashboard</h2>
                    <p>Visualize and optimize your productivity with these insights.</p>
                </div>
                
                <div class="analytics-filters">
                    <div class="filter-group">
                        <label for="time-range-select" class="filter-label">Time Range:</label>
                        <select id="time-range-select" class="filter-select">
                            <option value="day">Today</option>
                            <option value="week" selected>Last 7 days</option>
                            <option value="month">Last 30 days</option>
                            <option value="year">Last 12 months</option>
                        </select>
                    </div>
                    <button id="refresh-stats-btn" class="filter-button">
                        <i class="fa-solid fa-sync"></i> Refresh
                    </button>
                </div>
                
                <div class="analytics-container">
                    <!-- Task Completion Card -->
                    <div class="analytics-card task-completion">
                        <div class="analytics-card-header">
                            <h3 class="analytics-card-title">
                                <i class="fa-solid fa-tasks analytics-card-icon"></i>
                                Task Completion Overview
                            </h3>
                        </div>
                        <div class="analytics-card-content">
                            <div class="statistics-grid">
                                <div class="statistic-item">
                                    <span id="total-tasks" class="statistic-value">0</span>
                                    <span class="statistic-label">Total Tasks</span>
                                </div>
                                <div class="statistic-item">
                                    <span id="completed-tasks" class="statistic-value">0</span>
                                    <span class="statistic-label">Completed</span>
                                </div>
                                <div class="statistic-item">
                                    <span id="completion-rate" class="statistic-value">0%</span>
                                    <span class="statistic-label">Completion Rate</span>
                                </div>
                                <div class="statistic-item">
                                    <span id="avg-pomodoros" class="statistic-value">0</span>
                                    <span class="statistic-label">Avg. Pomodoros/Day</span>
                                </div>
                            </div>
                            
                            <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-top: 20px;">
                                <div id="task-completion-chart" class="chart-container" style="flex: 1; min-width: 180px;"></div>
                                <div id="task-priority-chart" class="chart-container" style="flex: 1; min-width: 200px;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Time Allocation Card -->
                    <div class="analytics-card time-allocation">
                        <div class="analytics-card-header">
                            <h3 class="analytics-card-title">
                                <i class="fa-solid fa-chart-pie analytics-card-icon"></i>
                                Time Allocation
                            </h3>
                        </div>
                        <div class="analytics-card-content">
                            <div id="time-allocation-chart" class="chart-container"></div>
                        </div>
                    </div>
                    
                    <!-- Productivity Score Card -->
                    <div class="analytics-card">
                        <div class="analytics-card-header">
                            <h3 class="analytics-card-title">
                                <i class="fa-solid fa-bolt analytics-card-icon"></i>
                                Productivity Score
                            </h3>
                        </div>
                        <div class="analytics-card-content">
                            <div class="progress-ring-container">
                                <div id="productivity-score-chart"></div>
                                <div class="statistics-grid">
                                    <div class="statistic-item">
                                        <span id="task-score" class="statistic-value">0%</span>
                                        <span class="statistic-label">Task Score</span>
                                    </div>
                                    <div class="statistic-item">
                                        <span id="time-score" class="statistic-value">0%</span>
                                        <span class="statistic-label">Time Score</span>
                                    </div>
                                    <div class="statistic-item" style="grid-column: 1 / 3;">
                                        <span id="pomodoro-score" class="statistic-value">0%</span>
                                        <span class="statistic-label">Pomodoro Score</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pomodoro Stats Card -->
                    <div class="analytics-card">
                        <div class="analytics-card-header">
                            <h3 class="analytics-card-title">
                                <i class="fa-solid fa-clock analytics-card-icon"></i>
                                Pomodoro Sessions
                            </h3>
                        </div>
                        <div class="analytics-card-content">
                            <div id="pomodoro-stats-chart" class="chart-container"></div>
                            <div class="statistics-grid" style="margin-top: 15px;">
                                <div class="statistic-item">
                                    <span id="total-pomodoros" class="statistic-value">0</span>
                                    <span class="statistic-label">Total Sessions</span>
                                </div>
                                <div class="statistic-item">
                                    <span id="total-focus-time" class="statistic-value">0h 0m</span>
                                    <span class="statistic-label">Focus Time</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recent Activity Card -->
                    <div class="analytics-card">
                        <div class="analytics-card-header">
                            <h3 class="analytics-card-title">
                                <i class="fa-solid fa-history analytics-card-icon"></i>
                                Recent Activity
                            </h3>
                        </div>
                        <div class="analytics-card-content">
                            <div id="activity-timeline" class="activity-timeline"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Pomodoro Timer Modal -->
            <div id="pomodoro-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Pomodoro Timer</h3>
                        <button class="modal-close close-btn">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="pomodoro-container work">
                            <h4 class="pomodoro-task-name">Focus Session</h4>
                            <p class="pomodoro-status">Work Session 1/4</p>
                            
                            <div class="pomodoro-timer">
                                <span id="minutes">25</span>:<span id="seconds">00</span>
                            </div>
                            
                            <div class="pomodoro-progress">
                                <div class="pomodoro-progress-bar" style="width: 100%;"></div>
                            </div>
                            
                            <div class="pomodoro-buttons">
                                <button id="start-btn" class="pomodoro-btn">
                                    <i class="fa-solid fa-play"></i> Start
                                </button>
                                <button id="pomodoro-pause" class="pomodoro-btn warning" style="display: none; position: relative; z-index: 9999; font-weight: bold; border: 3px solid red; background-color: #ffcc00;" 
onclick="console.log('DIRECT PAUSE CLICK'); window.FORCE_PAUSE_TIMER(); window.pauseTimer(); alert('Pause button clicked!'); return false;" 
onmousedown="console.log('Pause button mouse down')" 
onmouseup="console.log('Pause button mouse up')"
data-debug="true">
                                    <i class="fas fa-pause"></i> PAUSE
                                </button>
                                <button id="pomodoro-skip" class="pomodoro-btn" onclick="window.FORCE_SKIP_TIMER(); return false;" data-action="skip-timer">
                                    <i class="fa-solid fa-forward"></i> Skip
                                </button>
                                <button id="pomodoro-reset" class="pomodoro-btn" onclick="window.FORCE_RESET_TIMER(); return false;" data-action="reset-timer">
                                    <i class="fa-solid fa-rotate-left"></i> Reset
                                </button>
                            </div>
                            
                            <div class="pomodoro-stats">
                                <div class="pomodoro-stat">
                                    <div class="pomodoro-stat-value" id="today-sessions">0</div>
                                    <div class="pomodoro-stat-label">Today's Sessions</div>
                                </div>
                                <div class="pomodoro-stat">
                                    <div class="pomodoro-stat-value" id="today-minutes">0m</div>
                                    <div class="pomodoro-stat-label">Focus Time</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reminders Section -->
            <div class="section-content" id="reminders-section" style="display: none;">
                <div class="reminders-header">
                    <div class="reminders-header-left">
                        <h2>Reminders</h2>
                        <p class="reminders-summary">
                            <span id="active-reminders-count">0</span> active, 
                            <span id="completed-reminders-count">0</span> completed
                        </p>
                    </div>
                    <div class="reminders-header-right">
                        <div class="reminder-search-container">
                            <i class="fa-solid fa-search search-icon"></i>
                            <input type="text" id="reminder-search" placeholder="Search reminders...">
                        </div>
                        <button class="btn-primary" id="add-reminder-btn">
                            <i class="fa-solid fa-plus"></i> Add Reminder
                        </button>
                    </div>
                </div>

                <div class="reminders-container">
                    <div class="reminders-sidebar">
                        <div class="view-header">
                            <h3>Categories</h3>
                        </div>
                        <ul class="reminder-categories">
                            <li class="category-item active" data-category="all">
                                <i class="fa-solid fa-list"></i>
                                <span>All Reminders</span>
                                <span class="reminder-count" id="all-reminders-count">0</span>
                            </li>
                            <li class="category-item" data-category="today">
                                <i class="fa-solid fa-calendar-day"></i>
                                <span>Today</span>
                                <span class="reminder-count" id="today-reminders-count">0</span>
                            </li>
                            <li class="category-item" data-category="scheduled">
                                <i class="fa-solid fa-clock"></i>
                                <span>Scheduled</span>
                                <span class="reminder-count" id="scheduled-reminders-count">0</span>
                            </li>
                            <li class="category-item" data-category="recurring">
                                <i class="fa-solid fa-repeat"></i>
                                <span>Recurring</span>
                                <span class="reminder-count" id="recurring-reminders-count">0</span>
                            </li>
                            <li class="category-item" data-category="completed">
                                <i class="fa-solid fa-check-circle"></i>
                                <span>Completed</span>
                                <span class="reminder-count" id="completed-category-count">0</span>
                            </li>
                        </ul>

                        <div class="view-header">
                            <h3>Custom Categories</h3>
                        </div>
                        <ul class="reminder-categories" id="custom-categories">
                            <li class="category-item" data-category="work">
                                <i class="fa-solid fa-briefcase"></i>
                                <span>Work</span>
                                <span class="reminder-count">0</span>
                            </li>
                            <li class="category-item" data-category="personal">
                                <i class="fa-solid fa-user"></i>
                                <span>Personal</span>
                                <span class="reminder-count">0</span>
                            </li>
                            <li class="category-item" data-category="health">
                                <i class="fa-solid fa-heart"></i>
                                <span>Health</span>
                                <span class="reminder-count">0</span>
                            </li>
                        </ul>
                    </div>

                    <div class="reminders-content">
                        <div class="reminders-toolbar">
                            <div class="sort-options">
                                <label for="sort-reminders">Sort by:</label>
                                <select id="sort-reminders">
                                    <option value="date-added-desc">Date Added (Newest)</option>
                                    <option value="date-added-asc">Date Added (Oldest)</option>
                                    <option value="due-date-asc">Due Date (Soonest)</option>
                                    <option value="due-date-desc">Due Date (Latest)</option>
                                    <option value="priority">Priority</option>
                                    <option value="alphabetical">Alphabetical</option>
                                </select>
                            </div>
                        </div>

                        <div class="reminders-list-container">
                            <div class="reminders-list">
                                <!-- Sample reminder items -->
                                <div class="reminder-item">
                                    <div class="reminder-status">
                                        <i class="fa-solid fa-check"></i>
                                    </div>
                                    <div class="reminder-content">
                                        <h3 class="reminder-title">Team meeting preparation</h3>
                                        <div class="reminder-details">
                                            <div class="reminder-detail">
                                                <i class="fa-solid fa-calendar"></i>
                                                <span>Today, 2:00 PM</span>
                                            </div>
                                            <div class="reminder-detail">
                                                <i class="fa-solid fa-bell"></i>
                                                <span>15 min before</span>
                                            </div>
                                            <div class="reminder-category-tag">
                                                <i class="fa-solid fa-briefcase"></i>
                                                <span>Work</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="reminder-actions">
                                        <button class="reminder-action-btn edit">
                                            <i class="fa-solid fa-pen"></i>
                                        </button>
                                        <button class="reminder-action-btn delete">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="reminder-item completed">
                                    <div class="reminder-status">
                                        <i class="fa-solid fa-check"></i>
                                    </div>
                                    <div class="reminder-content">
                                        <h3 class="reminder-title">Daily workout session</h3>
                                        <div class="reminder-details">
                                            <div class="reminder-detail">
                                                <i class="fa-solid fa-calendar-check"></i>
                                                <span>Completed today</span>
                                            </div>
                                            <div class="reminder-category-tag">
                                                <i class="fa-solid fa-heart"></i>
                                                <span>Health</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="reminder-actions">
                                        <button class="reminder-action-btn edit">
                                            <i class="fa-solid fa-pen"></i>
                                        </button>
                                        <button class="reminder-action-btn delete">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="reminder-item">
                                    <div class="reminder-status">
                                        <i class="fa-solid fa-check"></i>
                                    </div>
                                    <div class="reminder-content">
                                        <h3 class="reminder-title">Call family</h3>
                                        <div class="reminder-details">
                                            <div class="reminder-detail">
                                                <i class="fa-solid fa-calendar"></i>
                                                <span>Tomorrow, 6:00 PM</span>
                                            </div>
                                            <div class="reminder-detail">
                                                <i class="fa-solid fa-repeat"></i>
                                                <span>Weekly</span>
                                            </div>
                                            <div class="reminder-category-tag">
                                                <i class="fa-solid fa-user"></i>
                                                <span>Personal</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="reminder-actions">
                                        <button class="reminder-action-btn edit">
                                            <i class="fa-solid fa-pen"></i>
                                        </button>
                                        <button class="reminder-action-btn delete">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pomodoro Timer Section -->
            <div class="section-content" id="pomodoro-section" style="display: none;">
                <div class="section-header">
                    <h2><i class="fa-solid fa-clock"></i> Pomodoro Timer</h2>
                    <p>Stay focused and productive with timed work sessions and breaks.</p>
                </div>

                <div class="pomodoro-dashboard">
                    <!-- Main Timer -->
                    <div class="pomodoro-main-card">
                        <div class="pomodoro-container work">
                            <div class="pomodoro-phase-toggle">
                                <button class="phase-btn active" data-phase="work">Focus</button>
                                <button class="phase-btn" data-phase="shortBreak">Short Break</button>
                                <button class="phase-btn" data-phase="longBreak">Long Break</button>
                            </div>
                            
                            <div class="pomodoro-timer-wrapper">
                                <div class="timer-circle">
                                    <svg width="300" height="300" class="timer-svg">
                                        <circle cx="150" cy="150" r="140" class="timer-circle-bg"></circle>
                                        <circle cx="150" cy="150" r="140" class="timer-circle-progress"></circle>
                                    </svg>
                                    <div class="timer-display">
                                        <span id="pomodoro-minutes">25</span>:<span id="pomodoro-seconds">00</span>
                                    </div>
                                    <div class="timer-task-name" id="current-task-name">Focus Session</div>
                                    <div class="timer-status" id="pomodoro-status">Work Session 1/4</div>
                                    
                                    <!-- Direct start button overlay -->
                                    <div class="timer-direct-start" onclick="startTimerDirectly()" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; cursor: pointer; z-index: 10; display: flex; justify-content: center; align-items: center; opacity: 0;">
                                        <div style="background: rgba(120, 80, 220, 0.7); border-radius: 50%; width: 80px; height: 80px; display: flex; justify-content: center; align-items: center;">
                                            <i class="fa-solid fa-play" style="color: white; font-size: 36px;"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="pomodoro-controls">
                                <button id="pomodoro-start" class="pomodoro-btn primary" onclick="window.FORCE_START_TIMER(); return false;" data-action="start-timer">
                                    <i class="fa-solid fa-play"></i> Start
                                </button>
                                <button id="pomodoro-pause" class="pomodoro-btn warning" style="display: none; position: relative; z-index: 9999; font-weight: bold; border: 3px solid red; background-color: #ffcc00;" 
onclick="console.log('DIRECT PAUSE CLICK'); window.FORCE_PAUSE_TIMER(); window.pauseTimer(); alert('Pause button clicked!'); return false;" 
onmousedown="console.log('Pause button mouse down')" 
onmouseup="console.log('Pause button mouse up')"
data-debug="true">
                                    <i class="fas fa-pause"></i> PAUSE
                                </button>
                                <button id="pomodoro-skip" class="pomodoro-btn" onclick="window.FORCE_SKIP_TIMER(); return false;" data-action="skip-timer">
                                    <i class="fa-solid fa-forward"></i> Skip
                                </button>
                                <button id="pomodoro-reset" class="pomodoro-btn" onclick="window.FORCE_RESET_TIMER(); return false;" data-action="reset-timer">
                                    <i class="fa-solid fa-rotate-left"></i> Reset
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Sidebar Cards -->
                    <div class="pomodoro-sidebar">
                        <!-- Today's Stats Card -->
                        <div class="pomodoro-card">
                            <div class="pomodoro-card-header">
                                <h3><i class="fa-solid fa-chart-simple"></i> Today's Stats</h3>
                            </div>
                            
                            <div class="pomodoro-stats">
                                <div class="pomodoro-stat">
                                    <div class="pomodoro-stat-value" id="today-sessions">0</div>
                                    <div class="pomodoro-stat-label">Completed Sessions</div>
                                </div>
                                <div class="pomodoro-stat">
                                    <div class="pomodoro-stat-value" id="today-minutes">0</div>
                                    <div class="pomodoro-stat-label">Minutes Focused</div>
                                </div>
                                <div class="pomodoro-stat">
                                    <div class="pomodoro-stat-value" id="current-streak">0</div>
                                    <div class="pomodoro-stat-label">Current Streak</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Settings Card -->
                        <div class="pomodoro-card">
                            <div class="pomodoro-card-header">
                                <h3><i class="fa-solid fa-gear"></i> Timer Settings</h3>
                            </div>
                            
                            <div class="pomodoro-settings">
                                <div class="settings-form">
                                    <div class="form-group">
                                        <label for="work-duration">Focus time (minutes)</label>
                                        <input type="number" id="work-duration" class="settings-input" min="1" max="120" value="25">
                                    </div>
                                    <div class="form-group">
                                        <label for="short-break-duration">Short break (minutes)</label>
                                        <input type="number" id="short-break-duration" class="settings-input" min="1" max="30" value="5">
                                    </div>
                                    <div class="form-group">
                                        <label for="long-break-duration">Long break (minutes)</label>
                                        <input type="number" id="long-break-duration" class="settings-input" min="5" max="60" value="15">
                                    </div>
                                    <div class="form-group">
                                        <label for="long-break-interval">Long break after (sessions)</label>
                                        <input type="number" id="long-break-interval" class="settings-input" min="1" max="10" value="4">
                                    </div>
                                    <div class="form-group checkbox">
                                        <input type="checkbox" id="auto-start-breaks">
                                        <label for="auto-start-breaks">Auto-start breaks</label>
                                    </div>
                                    <div class="form-group checkbox">
                                        <input type="checkbox" id="auto-start-pomodoros">
                                        <label for="auto-start-pomodoros">Auto-start focus sessions</label>
                                    </div>
                                    <div class="form-group">
                                        <label for="alarm-sound">Alarm sound</label>
                                        <select id="alarm-sound" class="settings-input">
                                            <option value="default">Bell</option>
                                            <option value="digital">Digital Alarm</option>
                                            <option value="gentle">Gentle Chime</option>
                                            <option value="nature">Nature Sound</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="alarm-volume">Volume</label>
                                        <input type="range" id="alarm-volume" min="0" max="100" value="80">
                                    </div>
                                    <div class="form-actions">
                                        <button id="save-settings" class="btn-primary" onclick="window.savePomodoro()">Save Settings</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Session History -->
                <div class="pomodoro-history-section">
                    <div class="section-subheader">
                        <h3>Recent Sessions</h3>
                    </div>
                    
                    <div class="pomodoro-history">
                        <div class="pomodoro-history-list" id="pomodoro-history-list">
                            <!-- Session history will be populated dynamically -->
                            <div class="empty-state" id="no-sessions-message">
                                <i class="fa-solid fa-hourglass-empty empty-icon"></i>
                                <h3>No completed sessions yet</h3>
                                <p>Start a Pomodoro session to track your productivity</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Projects & Tasks Section -->
            <div id="projects-tasks-section" class="analytics-section">
                <h3 class="section-title">
                    <i class="fa-solid fa-tasks section-icon"></i>
                    Projects & Tasks
                </h3>
                <div id="projects-tasks-container" class="analytics-list-container">
                    <!-- Project items will be loaded here dynamically -->
                </div>
            </div>

            <!-- Apps & Websites Section -->
            <div id="apps-websites-section" class="analytics-section">
                <h3 class="section-title">
                    <i class="fa-solid fa-desktop section-icon"></i>
                    Apps & Websites
                </h3>
                <div id="apps-websites-container" class="analytics-list-container">
                    <!-- App usage items will be loaded here dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Focus Mode Overlay -->
    <div id="focus-mode-overlay" class="focus-mode-overlay">
        <div class="focus-mode-content">
            <div class="focus-mode-title">FOCUSING ON</div>
            <div id="active-focus-task" class="active-focus-task">Focus Session</div>
            
            <div class="focus-mode-timer">
                <span id="focus-timer">00:00:00</span>
            </div>
            
            <div class="focus-mode-actions">
                <button id="exit-focus-mode" class="exit-focus-mode">
                    <i class="fa-solid fa-door-open"></i> Exit Focus Mode
                </button>
            </div>
        </div>
    </div>

    <!-- Add the task form modal directly to the HTML instead of creating it dynamically -->
    <div id="task-form-modal" class="modal" style="display: none;">
        <div class="modal-content task-form-modal">
            <div class="modal-header">
                <h3 id="task-form-title">Add Task</h3>
                <span class="close-modal" onclick="closeTaskForm()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="task-form">
                    <input type="hidden" id="task-id">
                    
                    <div class="task-form-group">
                        <label for="task-description">Task Description</label>
                        <input type="text" id="task-description" placeholder="What needs to be done?" required>
                    </div>
                    
                    <div class="task-form-row">
                        <div class="task-form-col">
                            <div class="task-form-group">
                                <label for="task-priority">Priority</label>
                                <select id="task-priority" required>
                                    <option value="low">Low</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High</option>
                                </select>
                            </div>
                        </div>
                        <div class="task-form-col">
                            <div class="task-form-group">
                                <label for="task-category">Category</label>
                                <select id="task-category">
                                    <option value="">None</option>
                                    <option value="work">Work</option>
                                    <option value="personal">Personal</option>
                                    <option value="health">Health</option>
                                    <option value="education">Education</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="task-form-group">
                        <label for="task-due-date">Due Date (Optional)</label>
                        <div class="task-datetime-picker">
                            <input type="date" id="task-due-date">
                            <input type="time" id="task-due-time">
                        </div>
                    </div>
                    
                    <div class="task-form-group">
                        <label for="task-notes">Notes (Optional)</label>
                        <textarea id="task-notes" rows="3" placeholder="Add additional details"></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" id="cancel-task" class="btn-secondary" onclick="closeTaskForm()">Cancel</button>
                        <button type="submit" id="save-task" class="btn-primary">Save Task</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Ensure goal functions are available globally -->
    <script>
        // Goal functions global access
        window.showAddGoalForm = function(event) {
            if (event) event.preventDefault();
            if (typeof window.goals === 'object' && typeof window.goals.showAddGoalForm === 'function') {
                window.goals.showAddGoalForm(event);
                return;
            }
            
            // Fallback implementation if the main one isn't available
            // Create modal content
            const modalContent = `
                <div class="goal-form-container">
                    <form id="goal-form">
                        <div class="form-group">
                            <label for="goal-title">Goal Title</label>
                            <input type="text" id="goal-title" required placeholder="Enter goal title">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group half">
                                <label for="goal-type">Type</label>
                                <select id="goal-type" required>
                                    <option value="">-- Select Type --</option>
                                    <option value="daily">Daily</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="monthly">Monthly</option>
                                    <option value="long-term">Long-term</option>
                                </select>
                            </div>
                            
                            <div class="form-group half">
                                <label for="goal-priority">Priority</label>
                                <select id="goal-priority">
                                    <option value="">-- Select Priority --</option>
                                    <option value="low">Low</option>
                                    <option value="medium">Medium</option>
                                    <option value="high">High</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="goal-description">Description</label>
                            <textarea id="goal-description" rows="3" placeholder="Describe your goal"></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group half">
                                <label for="goal-start-date">Start Date</label>
                                <input type="date" id="goal-start-date">
                            </div>
                            
                            <div class="form-group half">
                                <label for="goal-due-date">Due Date</label>
                                <input type="date" id="goal-due-date">
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn-secondary cancel-goal-btn">Cancel</button>
                            <button type="submit" class="btn-primary">Save Goal</button>
                        </div>
                    </form>
                </div>
            `;
            
            // Create modal container
            const modal = document.createElement('div');
            modal.id = 'goal-modal';
            modal.className = 'modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Add New Goal</h2>
                        <button class="close-btn">&times;</button>
                    </div>
                    <div class="modal-body">
                        ${modalContent}
                    </div>
                </div>
            `;
            
            // Add to document
            document.body.appendChild(modal);
            
            // Show modal
            setTimeout(() => {
                modal.style.display = 'block';
                modal.classList.add('show');
            }, 50);
            
            // Setup close button
            const closeBtn = modal.querySelector('.close-btn');
            if (closeBtn) {
                closeBtn.addEventListener('click', () => {
                    modal.classList.remove('show');
                    setTimeout(() => {
                        modal.style.display = 'none';
                        modal.remove();
                    }, 300);
                });
            }
            
            // Setup cancel button
            const cancelBtn = modal.querySelector('.cancel-goal-btn');
            if (cancelBtn) {
                cancelBtn.addEventListener('click', () => {
                    modal.classList.remove('show');
                    setTimeout(() => {
                        modal.style.display = 'none';
                        modal.remove();
                    }, 300);
                });
            }
            
            // Setup form submission
            const form = modal.querySelector('#goal-form');
            if (form) {
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    alert('Goal saving functionality is being implemented. Your goal will be saved soon!');
                    
                    modal.classList.remove('show');
                    setTimeout(() => {
                        modal.style.display = 'none';
                        modal.remove();
                    }, 300);
                });
            }
        };
        
        window.showQuickAddGoalModal = function() {
            if (typeof window.goals === 'object' && typeof window.goals.showQuickAddGoalModal === 'function') {
                window.goals.showQuickAddGoalModal();
                return;
            }
            
            // Fallback implementation if the main one isn't available
            const modalContent = `
                <div class="quick-goal-form-container">
                    <form id="quick-goal-form">
                        <div class="form-group">
                            <input type="text" id="quick-goal-title" required placeholder="Enter goal title" autofocus>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group half">
                                <select id="quick-goal-type" required>
                                    <option value="">-- Type --</option>
                                    <option value="daily">Daily</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="monthly">Monthly</option>
                                    <option value="long-term">Long-term</option>
                                </select>
                            </div>
                            
                            <div class="form-group half">
                                <select id="quick-goal-priority">
                                    <option value="">-- Priority --</option>
                                    <option value="low">Low</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn-secondary cancel-goal-btn">Cancel</button>
                            <button type="submit" class="btn-primary">Add Goal</button>
                        </div>
                    </form>
                </div>
            `;
            
            // Create modal container
            const modal = document.createElement('div');
            modal.id = 'goal-modal';
            modal.className = 'modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Quick Add Goal</h2>
                        <button class="close-btn">&times;</button>
                    </div>
                    <div class="modal-body">
                        ${modalContent}
                    </div>
                </div>
            `;
            
            // Add to document
            document.body.appendChild(modal);
            
            // Show modal
            setTimeout(() => {
                modal.style.display = 'block';
                modal.classList.add('show');
                
                // Focus on title input
                const titleInput = modal.querySelector('#quick-goal-title');
                if (titleInput) {
                    titleInput.focus();
                }
            }, 50);
            
            // Setup close button
            const closeBtn = modal.querySelector('.close-btn');
            if (closeBtn) {
                closeBtn.addEventListener('click', () => {
                    modal.classList.remove('show');
                    setTimeout(() => {
                        modal.style.display = 'none';
                        modal.remove();
                    }, 300);
                });
            }
            
            // Setup cancel button
            const cancelBtn = modal.querySelector('.cancel-goal-btn');
            if (cancelBtn) {
                cancelBtn.addEventListener('click', () => {
                    modal.classList.remove('show');
                    setTimeout(() => {
                        modal.style.display = 'none';
                        modal.remove();
                    }, 300);
                });
            }
            
            // Setup form submission
            const form = modal.querySelector('#quick-goal-form');
            if (form) {
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    alert('Goal saving functionality is being implemented. Your goal will be saved soon!');
                    
                    modal.classList.remove('show');
                    setTimeout(() => {
                        modal.style.display = 'none';
                        modal.remove();
                    }, 300);
                });
            }
        };
    </script>

    <script>
        function showTestModal() {
            alert('Testing modal functionality');
            const modal = document.createElement('div');
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
            modal.style.display = 'flex';
            modal.style.justifyContent = 'center';
            modal.style.alignItems = 'center';
            modal.style.zIndex = '9999';
            
            const content = document.createElement('div');
            content.style.backgroundColor = 'white';
            content.style.padding = '20px';
            content.style.borderRadius = '8px';
            content.style.maxWidth = '400px';
            content.style.width = '90%';
            content.innerHTML = `
                <h2>Test Modal</h2>
                <p>This is a test modal to verify that modal functionality works correctly.</p>
                <div style="display: flex; justify-content: flex-end; margin-top: 20px;">
                    <button onclick="this.closest('div').closest('div').closest('div').remove()" 
                            style="padding: 8px 16px; background-color: #6366f1; color: white; border: none; border-radius: 4px; cursor: pointer;">
                        Close
                    </button>
                </div>
            `;
            
            modal.appendChild(content);
            document.body.appendChild(modal);
            
            // Close on background click
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }
    </script>
    
    <!-- Fallback standalone goal implementation -->
    <script src="goal-standalone.js"></script>
    
    <!-- Dashboard Integration Script -->
    <script>
        // Global system event handlers for cross-component integration
        document.addEventListener('DOMContentLoaded', function() {
            // Setup event listeners for task and goal integration
            setupIntegrationEventListeners();
            
            // Set up global updateAnalytics function
            window.updateAnalytics = function() {
                // Trigger analytics refresh event
                document.dispatchEvent(new CustomEvent('analytics:refresh'));
                
                // If analytics is loaded, refresh the data
                if (typeof refreshAnalyticsData === 'function') {
                    refreshAnalyticsData();
                }
            };
        });
        
        // Setup integration between components
        function setupIntegrationEventListeners() {
            // Listen for task changes to update goals
            document.addEventListener('task:updated', function(e) {
                if (window.goalsModule && typeof window.goalsModule.syncGoalsWithTasks === 'function') {
                    window.goalsModule.syncGoalsWithTasks();
                }
                
                // Update analytics
                if (window.updateAnalytics) {
                    window.updateAnalytics();
                }
            });
            
            // Listen for task completion to update goals
            document.addEventListener('task:completed', function(e) {
                if (window.goalsModule && typeof window.goalsModule.syncGoalsWithTasks === 'function') {
                    window.goalsModule.syncGoalsWithTasks();
                }
                
                // Update analytics
                if (window.updateAnalytics) {
                    window.updateAnalytics();
                }
            });
            
            // Listen for goal changes to update dashboard
            document.addEventListener('goal:updated', function(e) {
                if (window.goalsModule && typeof window.goalsModule.syncWithMainDashboard === 'function') {
                    window.goalsModule.syncWithMainDashboard();
                }
                
                // Update analytics
                if (window.updateAnalytics) {
                    window.updateAnalytics();
                }
            });
            
            // Listen for timeblock changes
            document.addEventListener('timeblock:created', function(e) {
                // Update analytics
                if (window.updateAnalytics) {
                    window.updateAnalytics();
                }
            });
            
            document.addEventListener('timeblock:updated', function(e) {
                // Update analytics
                if (window.updateAnalytics) {
                    window.updateAnalytics();
                }
            });
            
            // Listen for pomodoro completion
            document.addEventListener('pomodoro:completed', function(e) {
                // Update analytics
                if (window.updateAnalytics) {
                    window.updateAnalytics();
                }
            });
            
            // Listen for analytics data requests
            document.addEventListener('analytics:refresh', function(e) {
                if (window.goalsModule && typeof window.goalsModule.syncGoalsWithAnalytics === 'function') {
                    window.goalsModule.syncGoalsWithAnalytics();
                }
            });
            
            // Sync goals when tasks are modified
            const originalUpdateTaskList = window.updateTaskList;
            if (originalUpdateTaskList) {
                window.updateTaskList = function() {
                    originalUpdateTaskList.apply(this, arguments);
                    
                    // Also sync with goals system
                    if (window.goalsModule && typeof window.goalsModule.syncGoalsWithTasks === 'function') {
                        window.goalsModule.syncGoalsWithTasks();
                    }
                    
                    // Dispatch task updated event
                    document.dispatchEvent(new CustomEvent('task:updated'));
                };
            }
            
            // Sync when task is completed
            const originalToggleTaskCompletion = window.toggleTaskCompletion;
            if (originalToggleTaskCompletion) {
                window.toggleTaskCompletion = function(taskId, completed) {
                    originalToggleTaskCompletion.apply(this, [taskId, completed]);
                    
                    // Dispatch task completed event
                    document.dispatchEvent(new CustomEvent('task:completed', { 
                        detail: { taskId, completed } 
                    }));
                };
            }
        }
    </script>
    
    <!-- Direct inline fallback for goal buttons -->
    <script>
        // Ensure buttons have click handlers no matter what
        document.addEventListener('DOMContentLoaded', function() {
            // Wait a bit to make sure other scripts have run
            setTimeout(function() {
                // Add Goal button
                var addGoalBtn = document.getElementById('add-goal-btn');
                if (addGoalBtn) {
                    // Use a direct inline onclick as ultimate fallback
                    addGoalBtn.onclick = function(e) {
                        e.preventDefault();
                        console.log('Ultimate fallback for Add Goal');
                        
                        // Try all possible function variations
                        if (typeof window.showAddGoalForm === 'function') {
                            window.showAddGoalForm(e);
                        } else if (typeof window.showStandaloneGoalForm === 'function') {
                            window.showStandaloneGoalForm();
                        } else {
                            // Create the simplest possible modal
                            var modal = document.createElement('div');
                            modal.style.position = 'fixed';
                            modal.style.top = '0';
                            modal.style.left = '0';
                            modal.style.width = '100%';
                            modal.style.height = '100%';
                            modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
                            modal.style.zIndex = '9999';
                            modal.style.display = 'flex';
                            modal.style.justifyContent = 'center';
                            modal.style.alignItems = 'center';
                            
                            var content = document.createElement('div');
                            content.style.backgroundColor = 'white';
                            content.style.padding = '20px';
                            content.style.borderRadius = '8px';
                            content.style.maxWidth = '500px';
                            content.style.width = '90%';
                            
                            content.innerHTML = `
                                <h2 style="margin-top:0">Add Goal</h2>
                                <form id="inline-goal-form">
                                    <div style="margin-bottom:15px">
                                        <label style="display:block;margin-bottom:5px">Goal Title</label>
                                        <input type="text" placeholder="Enter goal title" style="width:100%;padding:8px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px">
                                    </div>
                                    <div style="display:flex;gap:10px;margin-bottom:15px">
                                        <div style="flex:1">
                                            <label style="display:block;margin-bottom:5px">Type</label>
                                            <select style="width:100%;padding:8px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px">
                                                <option value="">Select Type</option>
                                                <option value="daily">Daily</option>
                                                <option value="weekly">Weekly</option>
                                                <option value="monthly">Monthly</option>
                                                <option value="long-term">Long-term</option>
                                            </select>
                                        </div>
                                        <div style="flex:1">
                                            <label style="display:block;margin-bottom:5px">Priority</label>
                                            <select style="width:100%;padding:8px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px">
                                                <option value="">Select Priority</option>
                                                <option value="low">Low</option>
                                                <option value="medium">Medium</option>
                                                <option value="high">High</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div style="display:flex;justify-content:flex-end;gap:10px;margin-top:20px">
                                        <button type="button" id="inline-cancel-btn" style="padding:8px 16px;background-color:#f1f1f1;border:none;border-radius:4px;cursor:pointer">Cancel</button>
                                        <button type="submit" style="padding:8px 16px;background-color:#6366f1;color:white;border:none;border-radius:4px;cursor:pointer">Save Goal</button>
                                    </div>
                                </form>
                            `;
                            
                            modal.appendChild(content);
                            document.body.appendChild(modal);
                            
                            // Close on background click
                            modal.addEventListener('click', function(e) {
                                if (e.target === modal) modal.remove();
                            });
                            
                            // Close on cancel button
                            content.querySelector('#inline-cancel-btn').addEventListener('click', function() {
                                modal.remove();
                            });
                            
                            // Handle form submission
                            content.querySelector('#inline-goal-form').addEventListener('submit', function(e) {
                                e.preventDefault();
                                alert('Goal would be saved here.');
                                modal.remove();
                            });
                        }
                    };
                }
                
                // Quick Add button
                var quickAddBtn = document.getElementById('quick-add-goal-btn');
                if (quickAddBtn) {
                    // Use a direct inline onclick as ultimate fallback
                    quickAddBtn.onclick = function(e) {
                        e.preventDefault();
                        console.log('Ultimate fallback for Quick Add');
                        
                        // Try all possible function variations
                        if (typeof window.showQuickAddGoalModal === 'function') {
                            window.showQuickAddGoalModal();
                        } else if (typeof window.showStandaloneQuickAddForm === 'function') {
                            window.showStandaloneQuickAddForm();
                        } else {
                            // Create the simplest possible modal
                            var modal = document.createElement('div');
                            modal.style.position = 'fixed';
                            modal.style.top = '0';
                            modal.style.left = '0';
                            modal.style.width = '100%';
                            modal.style.height = '100%';
                            modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
                            modal.style.zIndex = '9999';
                            modal.style.display = 'flex';
                            modal.style.justifyContent = 'center';
                            modal.style.alignItems = 'center';
                            
                            var content = document.createElement('div');
                            content.style.backgroundColor = 'white';
                            content.style.padding = '20px';
                            content.style.borderRadius = '8px';
                            content.style.maxWidth = '500px';
                            content.style.width = '90%';
                            
                            content.innerHTML = `
                                <h2 style="margin-top:0">Quick Add Goal</h2>
                                <form id="inline-quick-form">
                                    <div style="margin-bottom:15px">
                                        <input type="text" placeholder="Enter goal title" style="width:100%;padding:8px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px">
                                    </div>
                                    <div style="display:flex;gap:10px;margin-bottom:15px">
                                        <div style="flex:1">
                                            <select style="width:100%;padding:8px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px">
                                                <option value="">Select Type</option>
                                                <option value="daily">Daily</option>
                                                <option value="weekly">Weekly</option>
                                                <option value="monthly">Monthly</option>
                                                <option value="long-term">Long-term</option>
                                            </select>
                                        </div>
                                        <div style="flex:1">
                                            <select style="width:100%;padding:8px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px">
                                                <option value="">Select Priority</option>
                                                <option value="low">Low</option>
                                                <option value="medium" selected>Medium</option>
                                                <option value="high">High</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div style="display:flex;justify-content:flex-end;gap:10px;margin-top:20px">
                                        <button type="button" id="inline-quick-cancel-btn" style="padding:8px 16px;background-color:#f1f1f1;border:none;border-radius:4px;cursor:pointer">Cancel</button>
                                        <button type="submit" style="padding:8px 16px;background-color:#6366f1;color:white;border:none;border-radius:4px;cursor:pointer">Add Goal</button>
                                    </div>
                                </form>
                            `;
                            
                            modal.appendChild(content);
                            document.body.appendChild(modal);
                            
                            // Focus on input
                            setTimeout(function() {
                                content.querySelector('input').focus();
                            }, 100);
                            
                            // Close on background click
                            modal.addEventListener('click', function(e) {
                                if (e.target === modal) modal.remove();
                            });
                            
                            // Close on cancel button
                            content.querySelector('#inline-quick-cancel-btn').addEventListener('click', function() {
                                modal.remove();
                            });
                            
                            // Handle form submission
                            content.querySelector('#inline-quick-form').addEventListener('submit', function(e) {
                                e.preventDefault();
                                alert('Quick goal would be saved here.');
                                modal.remove();
                            });
                        }
                    };
                }
            }, 1000); // Wait 1 second to make sure other scripts have run
        });
    </script>
</body>
</html> 